class InfinitySlider{constructor(t,s={}){this.settings={...InfinitySlider.defoltSettings,...s},this.positionCards=0,this.slider=document.querySelector(t),this.sliderCard=this.slider.querySelector(".slider-card"),this.cards=this.sliderCard.children,this.sliderWidth,this.heightCards,this.realCardsLenth=this.cards.length,this.widthCards,this.btnLeft,this.btnRight,this.distanceCards,this.cloneCard,this.cardsCount,this.sliderInterval,this.maxHeight,this.sliderDots,this.touchPoint,this.dot}static defoltSettings={slideToScrollAll:!1,dots:!1,distanceDots:0,fadeOut:!1,gap:0,autoplay:!1,arrows:!1,autoplayspeed:3e3,baseCardWidth:null,transitionslider:"all 1.3s cubic-bezier(.44,-0.13,.43,1.13)"};init(){if(this.sliderWidth=this.sliderCard.getBoundingClientRect().width,null==this.settings.baseCardWidth&&(this.settings.baseCardWidth=this.sliderWidth+"px"),this.slider.querySelectorAll(".clone").forEach((t=>{t.remove()})),localStorage[this.slider.id+"interval"]&&clearInterval(localStorage[this.slider.id+"interval"]),this.slider.style.position="relative",this.sliderCard.style.position="relative",this.sliderCard.style.width="100%",this.sliderCard.style.overflow="hidden",this.cardsCount=Math.floor(this.sliderWidth/(parseInt(this.settings.baseCardWidth)+this.settings.gap)),0==this.cardsCount&&(this.cardsCount=1),this.distanceCards=this.settings.gap,this.widthCards=(this.sliderWidth-(this.cardsCount-1)*this.distanceCards)/this.cardsCount,this.positionCards=0-(this.distanceCards+this.widthCards),this.settings.arrows&&this.createArrows(),this.btnLeft=this.slider.querySelector(".left"),this.btnRight=this.slider.querySelector(".right"),this.settings.arrows&&this.cards.length<=this.cardsCount?(this.btnLeft.style.display="none",this.btnRight.style.display="none"):this.settings.arrows&&(this.btnLeft.style.display="block",this.btnRight.style.display="block"),this.settings.dots&&this.realCardsLenth>1){this.createDots(),this.dot=this.slider.querySelectorAll(".dot");for(let t=0;t<this.cards.length;t++)this.cards[t].classList.contains("activeFade")&&(this.dot[t].classList.remove("activeFade"),this.cards[t].classList.remove("activeFade"));this.dot[0].classList.add("activeFade"),this.cards[0].classList.add("activeFade")}this.settings.fadeOut||(this.createClone(),this.shuffleCard()),this.cards=this.sliderCard.children,this.heightCards=0;for(let t=0;t<this.cards.length;t++)this.cards[t].style.width=this.widthCards+"px",this.cards[t].style.position="absolute",this.maxHeight=this.cards[t].getBoundingClientRect().height,this.maxHeight>this.heightCards&&(this.heightCards=this.maxHeight),this.cards[t].style.transition="none",setTimeout((()=>{this.cards[t].style.transition=this.settings.transitionslider}),1);this.sliderCard.style.height=this.heightCards+"px",this.settings.dots&&this.createDots(),this.dot=this.slider.querySelectorAll(".dot"),this.dot.forEach((t=>{t.onclick=()=>{clearInterval(localStorage[this.slider.id+"interval"]);for(let t=0;t<this.realCardsLenth;t++)this.dot[t].classList.remove("activeFade"),this.cards[t].classList.remove("activeFade");this.cards[t.dataset.order].classList.add("activeFade"),t.classList.add("activeFade")}})),this.settings.autoplay&&this.realCardsLenth>this.cardsCount&&this.autoPlaySlider(),this.slider.addEventListener("touchend",(()=>{this.settings.autoplay&&this.realCardsLenth>this.cardsCount&&this.autoPlaySlider()})),this.touchSlider=this.touchSlider.bind(this),this.slider.addEventListener("touchstart",(t=>{this.touchPoint=t.touches[0].pageX,this.slider.addEventListener("touchmove",this.touchSlider),clearInterval(localStorage[this.slider.id+"interval"])})),this.slider.onmouseenter=()=>{clearInterval(localStorage[this.slider.id+"interval"])},this.slider.onmouseleave=()=>{this.settings.autoplay&&this.realCardsLenth>this.cardsCount&&this.autoPlaySlider()}}createArrows(){if(this.slider.querySelectorAll(".cards-slider").length<1){let t=!0;this.btnLeft=document.createElement("span"),this.btnRight=document.createElement("span"),this.btnLeft.className="cards-slider left",this.btnRight.className="cards-slider right",this.slider.insertAdjacentElement("afterbegin",this.btnLeft),this.slider.insertAdjacentElement("beforeend",this.btnRight),this.btnLeft.onclick=()=>{t&&(this.changeSlide("left"),t=!1,setTimeout((()=>{t=!0}),1e3*parseFloat(this.cards[0].style.transitionDuration)))},this.btnRight.onclick=()=>{t&&(this.changeSlide("right"),t=!1,setTimeout((()=>{t=!0}),1e3*parseFloat(this.cards[0].style.transitionDuration)))}}}createClone(){let t=1;do{this.cloneCard=this.cards[this.cards.length-t].cloneNode(!0),this.cloneCard.classList.add("clone"),this.cloneCard.style.transition="none",this.sliderCard.insertAdjacentElement("afterbegin",this.cloneCard),this.realCardsLenth=this.cards.length-this.slider.querySelectorAll(".clone").length,t++}while(t<=this.realCardsLenth&&this.settings.slideToScrollAll);if(this.settings.slideToScrollAll)for(t=0;t<this.realCardsLenth;)this.cloneCard=this.cards[t].cloneNode(!0),this.cloneCard.classList.add("clone"),this.cloneCard.style.transition="none",this.sliderCard.insertAdjacentElement("beforeend",this.cloneCard),t++}createDots(){if(this.slider.querySelectorAll(".dot-container").length<1){this.sliderDots=document.createElement("div"),this.sliderDots.className="dot-container",this.sliderDots.style.position="absolute",this.slider.insertAdjacentElement("beforeend",this.sliderDots);for(let t=0;t<this.realCardsLenth;t++){const s=document.createElement("span");s.className="dot",s.dataset.order=t,this.sliderDots.insertAdjacentElement("beforeend",s)}}}shuffleCard(){this.positionCards=0-(this.distanceCards+this.widthCards),this.cards=this.sliderCard.children,this.settings.slideToScrollAll&&(this.positionCards=0-(this.distanceCards+this.widthCards)*this.realCardsLenth);for(let t=0;t<this.cards.length;t++)this.cards[t].style.left=this.positionCards+"px",this.positionCards+=this.distanceCards+this.widthCards}changeSlide(t){this.sliderWidth=this.sliderCard.getBoundingClientRect().width,this.cardsCount=Math.floor(this.sliderWidth/(parseInt(this.settings.baseCardWidth)+this.settings.gap)),0==this.cardsCount&&(this.cardsCount=1),this.widthCards=(this.sliderWidth-(this.cardsCount-1)*this.distanceCards)/this.cardsCount,this.cards=this.sliderCard.children;let s=0;for(let t=0;t<this.cards.length;t++)this.cards[t].classList.contains("activeFade")&&(s=t);if("left"==t)if(this.settings.slideToScrollAll)for(let t=0;t<this.cardsCount;t++)this.sliderCard.insertAdjacentElement("afterbegin",this.cards[this.cards.length-1]);else if(this.settings.fadeOut)setTimeout((()=>this.cards[s].classList.add("activeFade")),1e3),setTimeout((()=>this.dot[s].classList.add("activeFade")),1e3),this.cards[s].classList.remove("activeFade"),this.dot[s].classList.remove("activeFade"),this.cards[s-1]?s--:s=this.cards.length-1;else{this.cards[this.cards.length-1].remove();let t=this.cards[this.cards.length-1].cloneNode(!0);t.classList.add("clone"),this.sliderCard.insertAdjacentElement("afterbegin",t),this.cards[1].classList.remove("clone")}else if("right"==t)if(this.settings.slideToScrollAll)for(let t=0;t<this.cardsCount;t++)this.sliderCard.insertAdjacentElement("beforeend",this.cards[0]);else if(this.settings.fadeOut)setTimeout((()=>this.cards[s].classList.add("activeFade")),1e3),setTimeout((()=>this.dot[s].classList.add("activeFade")),1e3),this.cards[s].classList.remove("activeFade"),this.dot[s].classList.remove("activeFade"),this.cards[s+1]?s++:s=0;else{this.cards[0].remove();let t=this.cards[0].cloneNode(!0);t.classList.add("clone"),this.sliderCard.insertAdjacentElement("beforeend",t),this.cards[this.cards.length-2].classList.remove("clone")}this.settings.fadeOut||this.shuffleCard()}autoPlaySlider(){if(clearInterval(localStorage[this.slider.id+"interval"]),this.settings.fadeOut){let t=0;for(let s=0;s<this.cards.length;s++)this.cards[s].classList.contains("activeFade")&&(t=s);const s=t=>{setTimeout((()=>this.cards[t].classList.add("activeFade")),1e3),setTimeout((()=>this.dot[t].classList.add("activeFade")),1e3)};this.sliderInterval=setInterval((()=>{this.cards[t].classList.remove("activeFade"),this.dot[t].classList.remove("activeFade"),this.cards[t+1]?t++:t=0,s(t)}),this.settings.autoplayspeed)}else this.sliderInterval=setInterval((()=>{this.changeSlide("right")}),this.settings.autoplayspeed);localStorage[this.slider.id+"interval"]=this.sliderInterval}touchSlider(t){this.touchPoint+20<t.touches[0].pageX?(this.changeSlide("left"),this.slider.removeEventListener("touchmove",this.touchSlider)):this.touchPoint-20>t.touches[0].pageX&&(this.changeSlide("right"),this.slider.removeEventListener("touchmove",this.touchSlider))}}window.onresize=function(){sliderBrands.init()};let sliderBrands=new InfinitySlider(".sliderBrand",{gap:20,slideToScrollAll:!0,baseCardWidth:"350rem",autoplay:!0,arrows:!1});sliderBrands.init();let hamburger=document.querySelector(".hamburger"),navmenu=document.querySelector(".navmenu");hamburger.addEventListener("click",(()=>{navmenu.classList.toggle("active-burger")})),window.addEventListener("resize",(()=>navmenu.classList.remove("active-burger")));